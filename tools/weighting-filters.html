<!DOCTYPE HTML>
<html>
<head>
<style>
body {
	font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
	font-size: 15px;
	margin: 20px auto;
	width: 800px;
}
table {
	table-layout: fixed;
	width: 100%;
}
table, td, th {
	border: 1px solid #ccc;
	border-collapse: collapse;
}
td, th {
	padding: 5px 10px;
}
td {
	text-align: right;
}
tr:hover {
	background: #e0ffe0 !important;
}
.onekhz {
	background: #f0f0f0;
}
</style>
<title>Weighting filters | audioMotion-analyzer</title>
</head>
<body>
	<h1>audioMotion-analyzer - Weighting filters</h1>
	<table id="bands">
			<tr>
				<th rowspan="2">Frequency<br>(Hz)</th>
				<th colspan="5">Response (dB)</th>
			</tr>
			<tr>
				<th>A</th>
				<th>B</th>
				<th>C</th>
				<th>D</th>
				<th>ITU-R 468</th>
			</tr>
	</table>

	<p>Reference: <a href="https://en.wikipedia.org/wiki/Weighting_filter" target="_blank">https://en.wikipedia.org/wiki/Weighting_filter</a></p>

<script src="weightingdB.js"></script>

<script>
const table = document.getElementById('bands');

for ( const freq of [ 16, 31.5, 63, 100, 125, 200, 250, 400, 500, 800, 1e3, 2e3, 3150, 4e3, 5e3, 6300, 7100, 8e3, 9e3, 10e3, 12500, 14e3, 16e3, 20e3, 31500 ] ) {
	let html = `<tr${ freq == 1e3 ? ' class="onekhz"' : '' }><td>${ freq }`;
	for ( const filter of [ 'A', 'B', 'C', 'D', 'I' ] ) {
		let response = Number( weightingdB( freq, filter ).toFixed(1) ).toFixed(1); // workaround to avoid '-0.0'
		if ( response > 0 )
			response = '+' + response;
		html += `<td>${ response }`;
	}
	table.innerHTML += html;
}
</script>

</body>
</html>
